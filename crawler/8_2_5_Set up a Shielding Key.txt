Set up a Shielding KeyA shielding key is a 256-bit AES-GCM cryptographic key pair that is generated randomly and protected by the user password. Its public key is used by the Litentry TEE worker to encrypt user-sensitive information when passing back the data. It is used to encrypt all the data in the communication between the user and the Litentry Parachain. The shielding key is generated in the user’s local environment and used by the IDHLS to isolate sensitive user data from the IDH server and all other third parties.Overall, it is an extra layer of security on top of your Substrate private key (Account) used exclusively to encrypt your data for transmission and ensure only you or the Enclaves can decrypt it.It is important to note that there are two types of shielding keys;User shielding key - This key is applied to the on-chain data returned by TEE. TEE shielding key- is used in the other direction (user -> TEE) and is publicly visible.Set up a Shielding Key1.User set a 8-character password as a root of their Shielding Key, this password will also be used to unlock IDHLS2.IDHLS will update the Shielding Key to Parachain:1.IDHLS will use the 8-character password to generate the Shielding Key with algo 32byte AES-GCM2.IDHLS will initiate the set_user_shielding_key extrinsic to pass the user’s shielding key and encrypt the extrinsic with the Parachain TEE’s Shielding Key3.The user will sign and pay the extrinsic, the signing address must be the same as the user’s sign-in address in the JWT, otherwise, IDHLS should forbid the user to continue.4.IDHLS will submit the extrinsic and listen to the parachain events5.IDHLS will find its parachain event by the user’s main address and decrypt the event to get the result of set_user_shielding_key extrinsicSuccess - finish set up, go to page My AccountFailed - show the error response and ask the user to try again6.IDHLS will then store the Shielding Key locally as the current only valid Shielding Key of the user7.The Substrate address that the user used to sign the set_user_shielding_key extrinsic will be stored as the mainAccount in the Local ID Graph**.** Also, local storage will create separate storage spaces for each main account, and different storage spaces will only be able to unlock with the shielding key of the corresponding mainAccount.PreviousCreating your First Verifiable Credential VCNextFAQLast modified 1d agoCopy link